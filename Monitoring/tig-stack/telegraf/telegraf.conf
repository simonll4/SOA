[agent]
interval = "10s"
round_interval = true
metric_batch_size = 1000
metric_buffer_limit = 10000
collection_jitter = "0s"
flush_interval = "10s"
flush_jitter = "0s"
precision = ""
debug = false
quiet = false
logfile = ""
skip_processors_after_aggregators = false

# ðŸ”¹ MÃ‰TRICAS DEL SISTEMA
[[inputs.system]] # Obtiene mÃ©tricas del sistema como carga, uptime, etc.

[[inputs.cpu]]
percpu = true   # No queremos mÃ©tricas por CPU individual, solo el total
totalcpu = true # Obtiene el uso total de CPU del sistema

[[inputs.mem]] # Obtiene el uso total de memoria del sistema

[[inputs.disk]] # Obtiene el uso de disco del sistema

[[inputs.net]]

[[inputs.netstat]]

# ðŸ”¹ MÃ‰TRICAS POR CONTENEDOR
[[inputs.docker]]
endpoint = "unix:///var/run/docker.sock"
perdevice_include = ["cpu"] # Incluye mÃ©tricas de CPU por contenedor
total_include = ["cpu"]     # Total CPU reportado por Docker
source_tag = true           # Usa el ID de contenedor como tag

# ðŸ”¹ SALIDA A INFLUXDB 2
[[outputs.influxdb_v2]]
urls = ["https://lpn1.crabdance.com"]
token = "$INFLUXDB_ADMIN_TOKEN"
organization = "LPN"
bucket = "monitoring-lpn2"

# config del cursito
# [agent]
# interval = "10s"
# round_interval = true
# metric_batch_size = 1000
# metric_buffer_limit = 10000
# collection_jitter = "0s"
# flush_interval = "10s"
# flush_jitter = "0s"
# precision = ""
# debug = false
# quiet = false
# logfile = ""

# [[inputs.docker]]
# endpoint = "unix:///var/run/docker.sock"
# perdevice_include = ["cpu"]

# [[inputs.cpu]]
# percpu = true
# totalcpu = true

# [[inputs.system]]

# [[inputs.disk]]

# [[inputs.diskio]]

# [[inputs.mem]]

# [[inputs.net]]

# [[inputs.netstat]]

# [[inputs.processes]]

# [[inputs.swap]]

# [[inputs.temp]]

# [[inputs.procstat]]
# pattern = ".*"

# [[outputs.influxdb_v2]]
# urls = ["https://lpn1.crabdance.com"]
# token = "$INFLUXDB_ADMIN_TOKEN"
# organization = "LPN"
# bucket = "monitoring-lpn2"
